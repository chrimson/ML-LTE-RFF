<!DOCTYPE html>
<html>
<head><title>Machine Learning LTE RF Fingerprinter</title></head>
<body style="font-family:Arial,Helvetica,sans-serif;background-color:#fff;color:#000;">

<h1>Machine Learning LTE RF Fingerprinter</h1>
<a href="https://github.com/chrimson/ML-LTE-RFF">GitHub Detail</a><br/>
<h3>Brad Williams, G01293202 - Chris Limson, G01360952</h3>
GMU CYSE 640 Wireless Network Security<br/>  
Fall 2024 - Moinul Hossain, PhD<p/>

<hr/>

<h2>Abstract</h2>
Should include objectives, methods, key findings, and conclusions.<br/>
Brief summary of the project (150-200 words). 175:<p/>

This is a study of creating a proof-of-concept system that recognizes RF fingerprints (RFF) extracted from LTE user equipment (UE) uplinks with a web service.
It required researching properties of the LTE standard, and generating random UE uplink signals each with a sample set of minor variances exhibiting a characteristic RFF.
A machine learning neural network was built from the dataset of UE signals and their variances, into which a simulated test target LTE waveform with RFF would be applied.
From this simulation, attributes for a feasible fingerprint were determined, to then build a system to test and demonstrate.
The service is able to accept a submitted LTE compliant uplink signal with an unknown RFF embedded, then compare its likeness to waveforms already in the dataset.
The system decides whether to update its dataset or flag the submitted signal, depending on if the RFF in question strengthens evidence of matching or identities conflict.
Finally, these decisions will be discussed and analyzed.


<h2>1. Introduction</h2>
Background and Context: Overview of the problem or topic.<br/>
Objective(s): Clear definition of what the project aims to achieve.<br/>
Scope: Define the boundaries of the work.<br/>
Significance: Why the project is important, particularly in the field of Wireless Network Security.<p/>

When a device attempts to connect to a base station, it needs to be authenticated. LTE increases the complexity for authentication due to necessary standards.
There are an increasing number of ways to spoof device MAC address, IP address or other identifying information.
With Radio Frequency (RF) Fingerprinting, a unique signal impairment emitted by the device exists due to imperfections in the hardware when it is created.
The specific device attempting to connect to the base station can be determined, and authenticating with RF fingerprint can be quick and secure.
No method to spoof a RF fingerprint is currently known to exist, thus allowing each device to be cataloged and identified off this attribute.<p/>

Address 6.1 Research Challenges by building a standard dataset that is continually updated<p/>

Address challenge of hardware degradation, updating properties and still adjusting with deep learning
Hardware degredation and updating properties can have a significant impact on the deep learning models created for fingerprint identification.
With hardware degredation potentially having the fingerprint a device produces, become similar to another fingerprinted device or a too dissimilar to the original one used in the model.
This can cause problems in authentication, including potential spoofing or access denial.  Additionally, updating properties like changing out the CPU inside a computer,
can cause the produced fingerprint to be changed as well.  This would require the model to be then be adjusted to include the new fingerprint and the old removed.<p/>

In the potentially additional interest of flagging malicious devices by only their fingerprints, as all other higher-level (logic, MAC addresses) can be altered.
This deep learning algorithm can take a wavelength, and based off of the fingerprints supplied during the training process, pick which one it would resemble most.
With the algorithm having the ability to be changed to include a message of rejection, if the fingerprint does not match any in the database close enough, for example
under 80% similarity.  The impact of distance effecting the degredation of the wavelength, can be addressed with sensitivity of detection hardware.  This would allow
the wavelength to be properly captured and assessed.

Our algorithm involves applying a large number of simulated devices to the database.  However, these simulated devices can be swapped for actual devices
if they are available.  This dataset improves the identification of devices as the number of devices, and number of sampled wavelengths per device is added.  Meaning,
that that the algorithm can identify which device is attempting to connected with a higher accuracy if the number of samples for said wavelength is increased.

Our proposed solution is further development into data for convolutional neural
networks. We hope to address the proposal in section 7, Research Challenges, of [2] where the
authors suggest building a standard dataset benchmarking training time and classification
accuracy. We plan on implementing that with cloud storage that is continually updated and
potentially analyzed for information. Like the original researchers, we will continue to employ
TensorFlow, the open-source software library for computing the convolutional neural network
[3].<p/>

Additionally, we will look into addressing the challenge of hardware degradation. Since
this will be a simulated model, we will be updating properties for each device and seeing how
the deep learning model reacts to the new information. In the potentially additional interest of
flagging malicious devices by only their fingerprints, as all other higher-level (logic, MAC
addresses) can be altered. Proposing a solution where the base station identifies a connecting
device based solely off their RF fingerprint. This is due to the increasing commonality of logic,
IP addresses and MAC addresses being able to be altered. We hope to address the impact of
distance affecting the success of identification by increasing the sensitivity of the detection
hardware. While this is not always viable, since we are simulating it, we can change the
sensitivity and make the receiver know what it is looking for. We could also potentially increase
the power of the ‘smartphones’ that are simulated, to see how far the signal can be pushed in
an ideal scenario.<p/>

Our evaluation plan is to apply a large number of simulated devices to the entire
system's algorithm, showing how the built dataset improves identification, as more devices
contribute. This includes having more than one device try authenticating against the base
station based off of their RF fingerprint.
A couple novel ideas for authentication and experimentations include; Having everything
cataloged by the base station for a device be incorrect except the fingerprint, have everything
cataloged be correct and the fingerprint be incorrect, and have everything be correct / incorrect
for authentication. It is undecided how feasible some of these scenarios are. The effectiveness
will be considered if the device is properly authenticated or not, with there being 2 success
scenarios and 2 intended failure scenarios.<p/>

[Structure of ML LTE RFF report]


<h2>2. Literature Review</h2>
Summary of Related Work: Brief discussion of existing solutions, methodologies, or studies.<br/>
Gaps Identified: What gaps or challenges in the literature does your project address?<br/>
(includes generation by MATLAB, building neural network, testing the sample prediction)<p/>

With the introduction of radio fingerprinting in [2], we are able to use machine learning models and software defined radio frequencies to give each device,
although similar in nature, a specific RF fingerprint.
It is mentioned in [2] that “No higher level decoding, feature engineering, or protocol knowledge is needed, further mitigating challenges of ID spoofing
and coexistence of multiple protocols in a shared spectrum” which would allow the protocols to be further strengthened in other directions.
Instead of having overlapping protocols for authentication, there is the possibility of a single authentication method based off the RF fingerprint,
further reducing the overhead cost of authentication in each protocol.
One significant finding in this paper is that they have tested it at specific directions, notably ranging from 2 feet away to 50 feet away.
It is also mentioned that the identification remains accurate until it drops off after 34 feet.</p>

In [1], the authors use RF fingerprinting on a variety of devices from different manufacturers and find that detecting and authenticating a user based on
their RF fingerprint is a valid control.
With the authors implementing their scenario in 4G-LTE, it gives precedence for our development also centered in LTE.
There is a brief mention in the future work of the paper about how degradation can occur over the course of the hardware’s lifetime.
This could potentially cause it to no longer have the same fingerprint, or possibly emulate a similar fingerprint of another device.
Additionally, there is no note of intentional disruption of the hardware, potentially changing the fingerprint of the device.<p/>


<h2>3. Methodology</h2>
Approach and Framework: Describe the methodology used to tackle the problem.<br/>
Tools and Technologies: List and explain any software, hardware, or frameworks utilized.<br/>
Data Sources: Mention any datasets, simulations, or experimental setups.<p/>

During research and development, an AWS EC2 Ubuntu 24.04 LTS host with 4 vCPUs and 16 GiB memory was instantiated
so coding from a common baseline could be done collaboratively and economically.
MATLAB was installed, as well as TensorFlow and Flask Python libraries for the application's system.<p/>

MATLAB was used only to generate LTE waveforms for simulation and test. While MATLAB has functions for machine learning,
Python was used to build the neural network and test a case against it due to TensorFlow's open-source flexibility.
The Python components were then integrated into a web service that vendors would be able to use for authentication, but also contribution as well.<p/>

For test and demonstration, a similar instance was then stood up with also the NVIDIA CUDA-enabled GPU and drivers specifically for deep neural networks,
and training significantly performed better. Where training 10 epochs without the GPU would take approximately 10 minutes,
the same process with the GPU would take a mere 1 minute.

<h2>4. Implementation</h2>
Details of Implementation: Step-by-step explanation of how the solution was developed.<br/>
Diagrams and Code Snippets: Include relevant architecture diagrams, flowcharts, and critical code snippets, if applicable.

<div style="margin-left: 32px">
    <h3>4.1. Architecture</h3>
    (put the python code together, dataset reader, builder, predictor)

    <h3>4.2. Generation of Sample Dataset</h3>
    MATLAB CLI script to generate LTE compliant modulated uplink waveform which will include RF fingerprint (RFF) simulating device (UE) connection to Evolved Node Base (eNB base station)<br/>
    Before demodulation, apply filters and OFDM to extract RFF<br/>
    After demodulation eNB will also retrieve UE parameters (genuine, cloned or spoofed) like MAC<br/>
    GNU Radio collect RFF Signal Metadata Format (sigMF)<p/>

    Simulated RF Fingerprints (RFF) are generated by random parameters (that are likely unique) of a sine and cosine combination.
    Their effect on the base Reference Measurement Channel (RMC) waveform generated by LTE ToolBox is then the RFF Waveforms (RWF).
    They can be illustrated on the MATLAB GUI by uncommenting plot, timescopes and spectrum analyzers with and without the RFFs applied.

    <h3>4.3. Building Neural Network</h3>
    TensorFlow is used to apply RFF against the created Convolutional Neural Network.  It then
    authenticates the RFF, based upon the RWF provided.  It then compares the RFF to the stored UE and classifies the indications.<p/>

    RWFs are applied to build and train the Convolutional Neural Network (CNN).

    <h3>4.4. Testing Sample Waveform Prediction</h3>
    A set of RWF characteristic parameters from ue_rwf_parms.asc may be chosen for variables A, B, C, D, J and K and passed into the MATLAB script.
    Then this step will generate a target variant RWF with marginal deviations.
    Take note of the UE's associated MAC address, but observe that NO definite MAC address will be passed into the next step
    (just the label encoding of all MAC addresses)<p/>

    Model predicts the target RWF, decodes its associated label and finds the corresponding probability<p/>

    (caveats: truncated at 5000 vs 307200, simulated fingerprint to sin/cos)  *This is to avoid overflow when assessing the
    and creating the simulated waveforms

    <h3>4.5. Integrating Components for Service System</h3>
    TensorFlow to apply RFF against Convolutional Neural Network, authenticating RFF, comparing to stored UE, classifying indications<p/>

    Copy generated RFF Waveforms (RWF) from the dataset of s1_LTE_RWF_dataset.m.
    Optionally copy saved model and encoded labels from s2_BuildTrainCNN.py if you don't want to wait for servive to rebuild Keras neural network<p/>

    Launch service in one terminal. In a different terminal, copy RWFs to staging directory, play with different MAC addresses, etc. Observe flag directory.
    Observe service operations in the first terminal.

    <h3>4.6. Adding SigMF, Flask Web Service REST API</h3>
    TensorFlow to apply RFF against Convolutional Neural Network, authenticating RFF, comparing to stored UE, classifying indications
    
    <h3>4.7. Four Use Cases of Predictions</h3>
</div>


<h2>5. Results and Analysis</h2>
Results: Present the outcomes of your project. Use graphs, tables, and figures where necessary.<br/>
Analysis: Explain what the results mean. Compare with expected outcomes or benchmarks.<br/>
Challenges and Limitations: Discuss any issues faced and how they were addressed or any limitations of the project.<br/>

<div style="margin-left: 32px">
    <h3>5.1. Behavior</h3>
    <h3>5.2. Illustration</h3>
    <h3>5.3. Initial Trials</h3>
    <h3>5.4. Results for Most Ideal Generation Parameters</h3>
    (table, 25 x 20)

    <h3>5.5. Experimentation</h3>
    <h3>5.6. Observations</h3>

    Was able to accelerate system with TensorFlow GPU engine on suitable machine AWS NVIDIA CUDA-enabled GPU
</div>


<h2>6. Discussion</h2>
Interpretation of Results: Discuss implications, lessons learned, and the broader impact on Wireless Network Security.<br/>
Comparison with Existing Work: How do your results compare with similar studies or approaches?<br/>
Social, privacy, legal implications

<div style="margin-left: 32px">
    <h3>6.1. Assumptions</h3>
    Real RF Fingerprint characteristics can be exchanged for the simulated ones created in the provided code.  Then these characteristics
    can be assessed and used to train the model on what to look for, to determine proper authentication parameters.  Additionally, the simulated
    waveforms can be swapped out for captured ones and the model to be trained on those as well.  With other parameters being able to be spoofed,
    like an IP address for a device.  Authenticating based upon the IP address, MAC address or other parameter is no longer sufficient.  Having
    another way of authentication that currentlty has no known spoofing ability, can pave a new foundation for security.

    <h3>6.2. Real World Application</h3>
    New mode of authenticating a device, if applicable can replace other methods due to its specificity.  Current knowledge determines that
    the fingerprint of a device cannot be spoofed to be exactly as another device, allowing proper authentication for a device trying to
    connect to another.  Comparing the fingerprint of a device can also be added upon other security features for added security.  Additionally,
    things like intrusion detection or spectrum management could benefit from the RF fingerprint identification.  With intrusion detection
    being able to determine if the device is valid, or if they have spoofed credentials and managed to get somewhere they should not be.
    With spectrum management being able to determine if a radio frequency is being used or abused by a certain user or device when it
    should not be.
</div>


<h2>7. Conclusion</h2>
Summary of Findings: Recap the major points of the report.<br/>

<div style="margin-left: 32px">
    <h3>7.1 Future Work</h3>
    Future Work: Suggest possible extensions or improvements to the project.<br/>
    As this study focuses on the essential functions of a minimal prototype, full-scope security hardening should still be performed (HTTPS, vendor authentication, etc.)
    Real HW SDR experimentation, no truncation, "catastrophic forgetting"<br/>
    HTTP port can be given a special port for secure standardization<br/>
    Cloud storage, big data<br/>    
    Ultimately, this kind of CNN ML can be extended to any wireless platform. LTE was only applied here to demonstrate the principle of RF Fingerprint recognition.
    Batch / Mini-batch gradient descent for ML, to improve the capability for larger datasets or waveforms not truncated.
</div>

<hr/>

<h2>References</h2>
Properly formatted list of all sources cited in the report. Use IEEE or another standard citation style as instructed.<p/>

<a href="https://repository.library.neu.edu/files/neu:m044c531h/fulltext.pdf">Radio Fingerprinting Using Convolutional Neural Networks</a><p/>

<a href="https://ece.northeastern.edu/fac-ece/ioannidis/static/pdf/2018/radio_identification.pdf">Deep Learning Convolutional Neural Networks for Radio Identification</a><p/>

<a href="https://link.springer.com/article/10.1007/s00521-021-06115-2">Improving security of the Internet of Things via RF fingerprinting based device identification system</a><p/>

</body></html>
