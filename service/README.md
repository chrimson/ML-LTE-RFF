# Machine Learning LTE RF Fingerprinter

## Web Service System

Copy generated RFF Waveforms (RWF) in complex SigMF NumPy compatible format from the dataset generated by __s2_BuildTrainCNN.py__

```
cp ../generate/25x15_ue_rwf_data_cmplx dataset
```

Launch service in one terminal

```
python3 ml_lte_rff_svc.py
```

In a different terminal, copy indexed RWF to current directory as MAC address, play with different MAC addresses, be creative, etc.

```
cp ../generate/25x15_ue_rwf_data_cmplx/33-04-E7-92-52-BD/0001 33-XX-XX-XX-XX-XX
cp ../generate/25x15_ue_rwf_data_cmplx/33-04-E7-92-52-BD/0046 33-04-E7-92-52-BD
cp ../generate/25x15_ue_rwf_data_cmplx/4A-2C-09-12-C0-1C/0024 4A-2C-09-12-C0-1C
```

Submit RWF

```
 curl -H "Content-Type: multipart/form-data" -F "rwf=@33-04-E7-92-52-BD" http://52.20.245.57:64024
```

Observe flagged RWFs in the first terminal
```
ls -lR flag/
flag/:
33-XX-XX-XX-XX-XX_33-04-E7-92-52-BD
flag/33-XX-XX-XX-XX-XX_33-04-E7-92-52-BD:
0000
```

Observe operations of the running service

```
2024-11-13 04:05:08.118159 Read 50 MACs and their variant RWFs from dataset
2024-11-13 04:05:08.922803 Read 40-3B-7B-23-50-20 50 Variants
2024-11-13 04:05:09.779825 Read 4D-22-47-3E-13-CE 50 Variants
...
2024-11-13 04:05:43.432723 Read 33-04-E7-92-52-BD 50 Variants
2024-11-13 04:17:23.811551 Monitoring ./stage/

2024-11-13 04:19:48.817076 Import target RWF from stage
2024-11-13 04:19:48.868890 Guess 33-04-E7-92-52-BD Probability 95.20%
2024-11-13 04:19:48.869099 Claim 33-XX-XX-XX-XX-XX Probability N/A
2024-11-13 04:19:48.871216 Diff MACs, RWF > 80% Flag for examination

2024-11-13 04:20:28.873006 Import target RWF from stage
2024-11-13 04:20:28.921321 Guess 33-04-E7-92-52-BD Probability 95.20%
2024-11-13 04:20:28.922340 Claim 33-04-E7-92-52-BD Probability 95.20%
2024-11-13 04:20:28.923424 Same MACs, RWF >= 50% Checks out

2024-11-13 04:29:19.151990 Import target RWF from stage
2024-11-13 04:29:19.193609 Guess 4A-2C-09-12-C0-1C Probability 43.32%
2024-11-13 04:29:19.194691 Claim 4A-2C-09-12-C0-1C Probability 43.32%
2024-11-13 04:29:19.195369 Same MACs, RWF < 50% Strengthen
2024-11-13 04:29:19.307411 Build and train
2024-11-13 04:29:19.307411 Epoch 1/10 Accuracy 1.60%
2024-11-13 04:29:22.657361 Epoch 2/10 Accuracy 1.85%
...
2024-11-13 04:29:31.378768 Epoch 9/20 Accuracy 55.85%
2024-11-13 04:29:33.225789 Epoch 10/10 Accuracy 91.05%
2024-11-13 04:29:36.055316 Done
```

## To Do

Restore applicable impairments

Can eventually test with two hardware SDRs
